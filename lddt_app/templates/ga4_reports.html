<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GA4 Dashboard</title>
    {% load ga_extras %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'table_style.css' %}">

    <style>
        body { font-family: Arial, sans-serif; padding: 30px; background: #f9fafc; }
        h2 { text-align: center; }
        table { width: 98%; margin: 20px auto; border-collapse: collapse; background: #fff; }
        th, td { border: 1px solid #ddd; padding: 4px; text-align: center; font-size: 13px }
        th { background: #007bff; color: #fff; }
        tr:nth-child(even) { background: #f2f2f2; }
        .btn { padding: 10px 18px; border-radius: 8px; font-weight: bold; color: #fff; cursor: pointer; border: none; }
        .btn-refresh { background: #007bff; }
        .btn-export { background: #28a745; }
        .button-bar { width: 95%; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .chart-container { width: 95%; margin: auto; }
        .status { text-align: center; color: #007bff; margin-top: 10px; }
    </style>
</head>
<body>

<h1>Google Analytics Stats (Last 12 months)</h1>

{% load static %}
{% load ga_extras %}

<table>
  <thead>
    <tr>
      <th>Property Name</th>
      <th>Property ID</th>
      <th>Since</th>
      {% for month in months %}
      <th>{{ month }}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for prop in properties %}
    <tr>
      <td>{{ prop.property_name }}</td>
      <td>{{ prop.property_id }}</td>
      <td>{{ prop.earliest_data_date }}</td>
      {% for month in months %}
      <td>{{ prop.monthly_data|get_item:month|default:"0" }}</td>
      {% endfor %}
    </tr>
    {% empty %}
    <tr>
      <td colspan="{{ months|length|add:'2' }}">No stats found.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>







</body>
</html>



